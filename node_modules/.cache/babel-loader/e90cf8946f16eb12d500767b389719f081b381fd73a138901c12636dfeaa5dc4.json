{"ast":null,"code":"import{useEffect,useState}from'react';import React from'react';import{Header}from'./Header';import{Button}from'react-bootstrap';import{useNavigate}from'react-router-dom';import Form from'react-bootstrap/Form';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const Login=()=>{useEffect(()=>{if(localStorage.getItem('user-info')){navigate('/add');}},[]);const[errormsg,setErrormsg]=useState(\"\");const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const navigate=useNavigate();async function loggin(){let items={email,password};let result=await fetch('http://127.0.0.1:8000/api/login',{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"Accept\":\"application/json\"},body:JSON.stringify(items)});result=await result.json();localStorage.setItem(\"user-info\",JSON.stringify(result));navigate('/');let errors=JSON.parse(localStorage.getItem(\"user-info\"));if(errors.id===undefined){localStorage.clear();navigate(\"/login\");setErrormsg(\"error\");}}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 offset-sm-3 border shadow mt-20 rounded\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Loggin Form\"}),/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(Form.Group,{className:\"m-5\",controlId:\"\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter Email\",value:email,onChange:e=>{setEmail(e.target.value);}})}),/*#__PURE__*/_jsxs(Form.Group,{className:\"m-5\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>{setPassword(e.target.value);}}),!errormsg?/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"We'll never share your email And Password  with anyone else.\"}):/*#__PURE__*/_jsx(Form.Text,{className:\" text-danger\",children:\"Email or Password must be Wrong *.\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary mb-3\",onClick:loggin,children:\"Submit\"})]})]})]});};","map":{"version":3,"names":["useEffect","useState","React","Header","Button","useNavigate","Form","jsx","_jsx","jsxs","_jsxs","Login","localStorage","getItem","navigate","errormsg","setErrormsg","email","setEmail","password","setPassword","loggin","items","result","fetch","method","headers","body","JSON","stringify","json","setItem","errors","parse","id","undefined","clear","children","className","Group","controlId","Control","type","placeholder","value","onChange","e","target","Text","variant","onClick"],"sources":["D:/Laravel/ProductListDashboard/ecomm-dashboard/src/Login.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport React from 'react'\r\nimport { Header } from './Header';\r\nimport { Button } from 'react-bootstrap';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Form from 'react-bootstrap/Form';\r\n\r\n\r\n\r\nexport const Login = () => {\r\n  useEffect(() => {\r\n    if (localStorage.getItem('user-info')) {\r\n      navigate('/add');\r\n    }\r\n  }, [])\r\n\r\n\r\n\r\n  const [errormsg, setErrormsg] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  async function loggin() {\r\n    let items = { email, password };\r\n    let result = await fetch('http://127.0.0.1:8000/api/login', {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Accept\": \"application/json\",\r\n      },\r\n\r\n      body: JSON.stringify(items)\r\n    });\r\n\r\n    result = await result.json();\r\n    localStorage.setItem(\"user-info\", JSON.stringify(result));\r\n    navigate('/');\r\n\r\n\r\n\r\n    let errors = (JSON.parse(localStorage.getItem(\"user-info\")));\r\n    if (errors.id === undefined) {\r\n      localStorage.clear();\r\n      navigate(\"/login\")\r\n      setErrormsg(\"error\");\r\n\r\n    }\r\n\r\n\r\n  }\r\n\r\n  return (\r\n\r\n\r\n    < div >\r\n      <Header />\r\n\r\n      <div className=\"col-md-6 offset-sm-3 border shadow mt-20 rounded\">\r\n        <h1>Loggin Form</h1>\r\n        <Form>\r\n          <Form.Group className=\"m-5\" controlId=\"\">\r\n            <Form.Control type=\"email\" placeholder=\"Enter Email\" value={email} onChange={(e) => { setEmail(e.target.value) }} />\r\n          </Form.Group>\r\n          <Form.Group className=\"m-5\" controlId=\"formBasicPassword\">\r\n            <Form.Control type=\"password\" placeholder=\"Password\" value={password} onChange={(e) => { setPassword(e.target.value) }} />\r\n\r\n            {\r\n              !errormsg ? <Form.Text className=\"text-muted\">\r\n                We'll never share your email And Password  with anyone else.\r\n              </Form.Text> :\r\n                <Form.Text className=\" text-danger\" >\r\n                  Email or Password must be Wrong *.\r\n                </Form.Text>\r\n            }\r\n\r\n\r\n          </Form.Group>\r\n\r\n          <Button variant=\"primary mb-3\" onClick={loggin} >\r\n            Submit\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n\r\n\r\n    </div >\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}