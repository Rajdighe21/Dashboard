{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Header}from'./Header';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export const ProdductsList=()=>{const[search,setSearch]=useState();const[len,setLen]=useState(0);const url=\"http://127.0.0.1:8000/api/lists\";const[data,setData]=useState([]);const fetchInfo=()=>{return fetch(url).then(res=>res.json()).then(d=>setData(d));};async function searchBar(key){if(key.length===0){window.location.reload(false);}else{let result=await fetch(\"http://127.0.0.1:8000/api/search/\"+key);result=await result.json();setData(result);setLen(key.length);}}async function deleteProduct(id){console.log(id);let result=await fetch(\"http://127.0.0.1:8000/api/del/\"+id,{method:\"DELETE\"});result=await result.json();fetchInfo();};useEffect(()=>{if(len<1){fetchInfo();}},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"body\",children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Smartphone Product List\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"search-input\",placeholder:\"Search...\",onChange:e=>{searchBar(e.target.value);}}),/*#__PURE__*/_jsx(\"div\",{className:\"search-icon\",children:\"\\uD83D\\uDD0D\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-container\",children:data.map((i,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\"}),/*#__PURE__*/_jsx(\"img\",{className:\"product-image\",style:{width:'100%',height:'200px',objectFit:'cover'},src:\"http://127.0.0.1:8000/\"+i.image,alt:\"iPhone\"}),/*#__PURE__*/_jsx(\"div\",{className:\"product-name\",children:i.name}),/*#__PURE__*/_jsx(\"div\",{className:\"product-name\",children:i.model_no}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-price\",children:[\"\\u20B9 \",i.price]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[/*#__PURE__*/_jsx(Link,{to:'update/'+i.id,children:/*#__PURE__*/_jsx(\"button\",{className:\"edit-button\",children:\"Update\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-button\",onClick:()=>{deleteProduct(i.id);},children:\"Delete\"})]})]},index))})]})]});};","map":{"version":3,"names":["React","useEffect","useState","Header","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProdductsList","search","setSearch","len","setLen","url","data","setData","fetchInfo","fetch","then","res","json","d","searchBar","key","length","window","location","reload","result","deleteProduct","id","console","log","method","children","className","type","placeholder","onChange","e","target","value","map","i","index","style","width","height","objectFit","src","image","alt","name","model_no","price","to","onClick"],"sources":["D:/Laravel/ProductListDashboard/ecomm-dashboard/src/ProdductsList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Header } from './Header'\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const ProdductsList = () => {\r\n    const [search, setSearch] = useState()\r\n    const [len, setLen] = useState(0);\r\n    const url = \"http://127.0.0.1:8000/api/lists\";\r\n    const [data, setData] = useState([]);\r\n\r\n    const fetchInfo = () => {\r\n        return fetch(url)\r\n            .then((res) => res.json())\r\n            .then((d) => setData(d))\r\n    }\r\n\r\n\r\n    async function searchBar(key) {\r\n\r\n        if (key.length === 0) {\r\n            window.location.reload(false);\r\n\r\n        } else {\r\n            let result = await fetch(\"http://127.0.0.1:8000/api/search/\" + key)\r\n            result = await result.json();\r\n            setData(result);\r\n            setLen(key.length)\r\n        }\r\n    }\r\n\r\n    async function deleteProduct(id) {\r\n        console.log(id);\r\n        let result = await fetch(\"http://127.0.0.1:8000/api/del/\" + id, {\r\n            method: \"DELETE\"\r\n        });\r\n        result = await result.json();\r\n        fetchInfo();\r\n\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (len < 1) {\r\n            fetchInfo();\r\n        }\r\n    }, []);\r\n\r\n\r\n\r\n\r\n    return (\r\n\r\n        <  >\r\n\r\n            <Header />\r\n\r\n            <div className='body'>\r\n\r\n\r\n                <header>\r\n                    <h1>Smartphone Product List</h1>\r\n                </header>\r\n\r\n                <div className=\"search-container\">\r\n                    <input type=\"text\" className=\"search-input\" placeholder=\"Search...\" onChange={(e) => { searchBar(e.target.value) }} />\r\n                    <div className=\"search-icon\">&#128269;</div>\r\n                </div>\r\n\r\n                <div className=\"product-container\">\r\n                    {\r\n                        data.map((i, index) => (\r\n                            <div className=\"product-card\" key={index}>\r\n                                <input type='hidden' />\r\n                                <img className=\"product-image\" style={{ width: '100%', height: '200px', objectFit: 'cover' }} src={\"http://127.0.0.1:8000/\" + i.image} alt=\"iPhone\" />\r\n                                <div className=\"product-name\">{i.name}</div>\r\n                                <div className=\"product-name\">{i.model_no}</div>\r\n                                <div className=\"product-price\">â‚¹ {i.price}</div>\r\n                                <div className=\"button-container\">\r\n                                    <Link to={'update/' + i.id}><button className=\"edit-button\" >Update</button></Link>\r\n                                    <button className=\"delete-button\" onClick={() => { deleteProduct(i.id) }}>Delete</button>\r\n                                </div>\r\n                            </div>\r\n\r\n                        ))\r\n                    }\r\n                </div>\r\n\r\n\r\n\r\n\r\n            </div>\r\n        </ >\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}